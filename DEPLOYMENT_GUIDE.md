# astrologica - Vercel рдкрд░ рдбрд┐рдкреНрд▓реЙрдп рдХрд░рдиреЗ рдХреА рдЧрд╛рдЗрдб

рдпрд╣ рдЧрд╛рдЗрдб рдЖрдкрдХреЛ astrologica рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ Vercel рдкрд░ рдбрд┐рдкреНрд▓реЙрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЗрдк-рдмрд╛рдп-рд╕реНрдЯреЗрдк рдирд┐рд░реНрджреЗрд╢ рджреЗрдЧреАред

---

### ЁЯЪи 500 рдПрд░рд░ рдХреЛ рдХреИрд╕реЗ рдареАрдХ рдХрд░реЗрдВ? рд╣реЗрд▓реНрде рдЪреЗрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ! ЁЯЪи

рдЕрдЧрд░ рдЖрдкрдХреА рд▓рд╛рдЗрд╡ рд╡реЗрдмрд╕рд╛рдЗрдЯ (рдЬреИрд╕реЗ рд▓реЙрдЧрд┐рди) рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд░рд╣реА рд╣реИ рдФрд░ **500 Internal Server Error** рджрд┐рдЦрд╛ рд░рд╣реА рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ 99% рдХрд╛рд░рдг Vercel рдореЗрдВ рдЧрд▓рдд рдпрд╛ рдЫреВрдЯреЗ рд╣реБрдП рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реИрд░рд┐рдПрдмрд▓ (Environment Variables) рд╣реИрдВред

**рд╕рдорд╕реНрдпрд╛ рдХрд╛ рд╕рдЯреАрдХ рдХрд╛рд░рдг рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдХрд░реЗрдВ:**

1.  рдЕрдкрдиреА рд▓рд╛рдЗрд╡ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд╛ URL рдЦреЛрд▓реЗрдВ рдФрд░ рдЙрд╕рдХреЗ рдЕрдВрдд рдореЗрдВ `/api/health` рдЬреЛрдбрд╝реЗрдВред
    рдЙрджрд╛рд╣рд░рдг: `https://your-project-name.vercel.app/api/health`

2.  рдпрд╣ рдЖрдкрдХреЛ рдПрдХ JSON рд░рд┐рдкреЛрд░реНрдЯ рджрд┐рдЦрд╛рдПрдЧрд╛ред рдЕрдЧрд░ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧреА:
    ```json
    {
      "status": "error",
      "message": "Backend has critical configuration errors that must be fixed.",
      "checks": {
        "environmentVariables": {
          "status": "error",
          "message": "The server is missing 2 required environment variable(s).",
          "missing": [
            "MONGO_URI",
            "JWT_SECRET"
          ]
        },
        "databaseConnection": {
          "status": "error",
          "message": "Database is disconnected. Check your MONGO_URI value..."
        }
      }
    }
    ```

3.  **рдХреИрд╕реЗ рдареАрдХ рдХрд░реЗрдВ:**
    -   `missing` рд▓рд┐рд╕реНрдЯ рдореЗрдВ рдЬреЛ рднреА рд╡реИрд░рд┐рдПрдмрд▓ (`MONGO_URI`, `JWT_SECRET`, рдЖрджрд┐) рджрд┐рдЦ рд░рд╣реЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдЕрдкрдиреЗ **Vercel рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ -> Environment Variables** рдореЗрдВ рдЬрд╛рдХрд░ рдЬреЛрдбрд╝реЗрдВред
    -   рдЕрдЧрд░ `databaseConnection` рдореЗрдВ `error` рд╣реИ, рддреЛ рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рдЖрдкрдХрд╛ `MONGO_URI` рдЧрд▓рдд рд╣реИ, рдпрд╛ рдЖрдкрдиреЗ MongoDB Atlas рдореЗрдВ рдЕрдкрдиреА IP рдХреЛ рд╡реНрд╣рд╛рдЗрдЯрд▓рд┐рд╕реНрдЯ рдирд╣реАрдВ рдХрд┐рдпрд╛ рд╣реИред

4.  рд╕рднреА рд╡реИрд░рд┐рдПрдмрд▓ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, Vercel рдореЗрдВ рдПрдХ рдирдпрд╛ **"Redeploy"** рдХрд░реЗрдВред

**рдЬрдм рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реЛ рдЬрд╛рдПрдЧрд╛, рддреЛ `/api/health` рд▓рд┐рдВрдХ рдкрд░ рдпрд╣ рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛:**
```json
{
  "status": "ok",
  "message": "Backend is running and configured correctly.",
  "checks": {
    "environmentVariables": { "status": "ok", ... },
    "databaseConnection": { "status": "ok", ... }
  }
}
```

---

### рдЖрдкрдХреЛ рдХреНрдпрд╛ рдЪрд╛рд╣рд┐рдП:

1.  **GitHub рдЕрдХрд╛рдЙрдВрдЯ**: рдЖрдкрдХрд╛ рд╕рд╛рд░рд╛ рдХреЛрдб рдПрдХ GitHub рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред
2.  **Vercel рдЕрдХрд╛рдЙрдВрдЯ**: рдЖрдк рдЕрдкрдиреЗ GitHub рдЕрдХрд╛рдЙрдВрдЯ рд╕реЗ рд╕рд╛рдЗрди рдЕрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
3.  **MongoDB рдбреЗрдЯрд╛рдмреЗрд╕**: рдЖрдк MongoDB Atlas (рдлреНрд░реА) рдпрд╛ Railway рдХрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЖрдкрдХреЛ рдмрд╕ рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ (URI) рдЪрд╛рд╣рд┐рдП рд╣реЛрдЧреАред
4.  **Razorpay рдЕрдХрд╛рдЙрдВрдЯ**: рдЖрдкрдХреЛ рд▓рд╛рдЗрд╡ `Key ID` рдФрд░ `Key Secret` рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред
5.  **PhonePe рдЕрдХрд╛рдЙрдВрдЯ**: рдЖрдкрдХреЛ (рдЯреЗрд╕реНрдЯ рдпрд╛ рд▓рд╛рдЗрд╡) `Merchant ID` рдФрд░ `Salt Key` рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред

---

## рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдХреЗ рд╕реНрдЯреЗрдкреНрд╕

### рд╕реНрдЯреЗрдк 1: рдХреЛрдб рдХреЛ GitHub рдкрд░ рдбрд╛рд▓реЗрдВ

рдЕрдЧрд░ рдЖрдкрдХрд╛ рдХреЛрдб рдкрд╣рд▓реЗ рд╕реЗ GitHub рдкрд░ рдирд╣реАрдВ рд╣реИ, рддреЛ рдПрдХ рдирдИ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдмрдирд╛рдПрдВ рдФрд░ рдЕрдкрдирд╛ рдкреВрд░рд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ (рдлреНрд░рдВрдЯрдПрдВрдб рдФрд░ рдмреИрдХрдПрдВрдб рдлрд╛рдЗрд▓реЛрдВ рдХреЗ рд╕рд╛рде) рд╡рд╣рд╛рдВ рдкреБрд╢ рдХрд░реЗрдВред

### рд╕реНрдЯреЗрдк 2: Vercel рдкрд░ рдирдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВ

1.  рдЕрдкрдиреЗ [Vercel Dashboard](https://vercel.com/dashboard) рдкрд░ рд▓реЙрдЧ рдЗрди рдХрд░реЗрдВред
2.  **"Add New... -> Project"** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред
3.  **"Import Git Repository"** рд╕реЗрдХреНрд╢рди рдореЗрдВ, рдЕрдкрдиреА GitHub рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рдЪреБрдиреЗрдВ рдФрд░ **"Import"** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред

### рд╕реНрдЯреЗрдк 3: рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ

Vercel рдЖрдкрдХреЗ рдХреЛрдб рдХреЛ рдПрдирд╛рд▓рд╛рдЗрдЬ рдХрд░реЗрдЧрд╛ред рдЖрдкрдХреЛ рдХреБрдЫ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдмрддрд╛рдиреА рд╣реЛрдВрдЧреА:

-   **Framework Preset**: Vercel рд╢рд╛рдпрдж рдЗрд╕реЗ рдкрд╣рдЪрд╛рди рдирд╣реАрдВ рдкрд╛рдПрдЧрд╛, рдЗрд╕рд▓рд┐рдП **"Other"** рдЪреБрдиреЗрдВред
-   **Root Directory**: рдЗрд╕реЗ **рд░реВрдЯ (`./`)** рдкрд░ рд╣реА рд░рд╣рдиреЗ рджреЗрдВред `vercel.json` рдлрд╛рдЗрд▓ рдХреЗ рдХрд╛рд░рдг, Vercel рд╕рдордЭ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рдлреНрд░рдВрдЯрдПрдВрдб рдФрд░ рдмреИрдХрдПрдВрдб рдХреЛ рдХреИрд╕реЗ рд╣реИрдВрдбрд▓ рдХрд░рдирд╛ рд╣реИред

рдмрд╛рдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдЫреЛрдбрд╝ рджреЗрдВред

### рд╕реНрдЯреЗрдк 4: рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реИрд░рд┐рдПрдмрд▓ (Environment Variables) рдЬреЛрдбрд╝реЗрдВ (рд╕рдмрд╕реЗ рдЬрд╝рд░реВрд░реА рд╕реНрдЯреЗрдк)

рдпрд╣ рдЖрдкрдХреА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗ рдЧреЛрдкрдиреАрдп (secret) рдХреАрдЬрд╝ рдФрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рд╣реИрдВред рдЗрдиреНрд╣реЗрдВ рд╕реАрдзреЗ рдХреЛрдб рдореЗрдВ рдирд╣реАрдВ рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред

**"Environment Variables"** рд╕реЗрдХреНрд╢рди рдореЗрдВ, рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рд╕рднреА рд╡реИрд░рд┐рдПрдмрд▓ рдПрдХ-рдПрдХ рдХрд░рдХреЗ рдЬреЛрдбрд╝реЗрдВ:

1.  `MONGO_URI`:
    -   **Key**: `MONGO_URI`
    -   **Value**: рдЕрдкрдиреЗ MongoDB Atlas рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдХрдиреЗрдХреНрд╢рди рд╕реНрдЯреНрд░рд┐рдВрдЧ рдпрд╣рд╛рдБ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
2.  `JWT_SECRET`:
    -   **Key**: `JWT_SECRET`
    -   **Value**: рдПрдХ рдмрд╣реБрдд рд╣реА рд▓рдВрдмрд╛ рдФрд░ рд░реИрдВрдбрдо рд╕реАрдХреНрд░реЗрдЯ рдЯреЗрдХреНрд╕реНрдЯ рдпрд╣рд╛рдБ рдбрд╛рд▓реЗрдВред рдЖрдк рдЗрд╕реЗ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдСрдирд▓рд╛рдЗрди рдкрд╛рд╕рд╡рд░реНрдб рдЬрдирд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдЖрдкрдХреА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИред
3.  `RAZORPAY_KEY_ID`:
    -   **Key**: `RAZORPAY_KEY_ID`
    -   **Value**: рдЕрдкрдиреЗ Razorpay рдбреИрд╢рдмреЛрд░реНрдб рд╕реЗ **рд▓рд╛рдЗрд╡** Key ID рдпрд╣рд╛рдБ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
4.  `RAZORPAY_KEY_SECRET`:
    -   **Key**: `RAZORPAY_KEY_SECRET`
    -   **Value**: рдЕрдкрдиреЗ Razorpay рдбреИрд╢рдмреЛрд░реНрдб рд╕реЗ **рд▓рд╛рдЗрд╡** Key Secret рдпрд╣рд╛рдБ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
5.  `PHONEPE_MERCHANT_ID`:
    -   **Key**: `PHONEPE_MERCHANT_ID`
    -   **Value**: рдЕрдкрдиреЗ PhonePe рдорд░реНрдЪреЗрдВрдЯ рдбреИрд╢рдмреЛрд░реНрдб рд╕реЗ Merchant ID рдпрд╣рд╛рдБ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
6.  `PHONEPE_SALT_KEY`:
    -   **Key**: `PHONEPE_SALT_KEY`
    -   **Value**: рдЕрдкрдиреЗ PhonePe рдбреИрд╢рдмреЛрд░реНрдб рд╕реЗ Salt Key рдпрд╣рд╛рдБ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
7.  `FRONTEND_URL`:
    -   **Key**: `FRONTEND_URL`
    -   **Value**: Vercel рджреНрд╡рд╛рд░рд╛ рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдХреЗ рдмрд╛рдж рджреА рдЧрдИ рдЖрдкрдХреА рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреА рдкреВрд░реА URL (рдЬреИрд╕реЗ `https://your-project-name.vercel.app`)ред рдпрд╣ рдкреЗрдореЗрдВрдЯ рд░реАрдбрд╛рдпрд░реЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП реЫрд░реВрд░реА рд╣реИред


**рдзреНрдпрд╛рди рджреЗрдВ:** рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдЧрд▓рддреА рд╕реЗ `Test` рдХреАрдЬрд╝ рдХреЗ рдмрдЬрд╛рдп `Live` рдХреАрдЬрд╝ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИред

### рд╕реНрдЯреЗрдк 5: рдбрд┐рдкреНрд▓реЙрдп (Deploy) рдХрд░реЗрдВ

рд╕рднреА рдПрдирд╡рд╛рдпрд░рдирдореЗрдВрдЯ рд╡реИрд░рд┐рдПрдмрд▓ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рдмрд╛рдж, **"Deploy"** рдмрдЯрди рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред

Vercel рдЕрдм рдЖрдкрдХреЗ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдмрдирд╛рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрдЧрд╛ред рдЗрд╕рдореЗрдВ рдХреБрдЫ рдорд┐рдирдЯ рд▓рдЧ рд╕рдХрддреЗ рд╣реИрдВред
-   рдпрд╣ рдкрд╣рд▓реЗ рдЖрдкрдХреЗ рдлреНрд░рдВрдЯрдПрдВрдб (`npm run build`) рдХреЛ рдмрдирд╛рдПрдЧрд╛ред
-   рдлрд┐рд░ рдпрд╣ рдЖрдкрдХреЗ рдмреИрдХрдПрдВрдб (`/backend` рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА) рдХреЛ рд╕рд░реНрд╡рд░рд▓реЗрд╕ рдлрдВрдХреНрд╢рди рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд░реЗрдЧрд╛ред

### рд╕реНрдЯреЗрдк 6: рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЛ рд▓рд╛рдЗрд╡ рджреЗрдЦреЗрдВ!

рдбрд┐рдкреНрд▓реЙрдпрдореЗрдВрдЯ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдкрд░, Vercel рдЖрдкрдХреЛ рдмрдзрд╛рдИ рджреЗрдЧрд╛ рдФрд░ рдЖрдкрдХреА рд▓рд╛рдЗрд╡ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд╛ рдПрдХ рд▓рд┐рдВрдХ рджреЗрдЧрд╛ред рдЙрд╕ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдЖрдкрдХреА astrologica рд╡реЗрдмрд╕рд╛рдЗрдЯ рдЕрдм рдкреВрд░реА рджреБрдирд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрд╡ рд╣реИ!
